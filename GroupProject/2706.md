üìò Daily Work Summary ‚Äì June 27, 2025

Overview
This is a Power Apps canvas application developed for the Auroral Institute. It manages user accounts, course enrollment, course creation, and notifications. The app is designed to support roles such as students and trainers, and integrates with Microsoft Dataverse for data storage.

üéØ Key Features
User Login and Role Verification

Verifies user email and role (e.g., Kouluttaja, Oppilas)

Stores logged-in user info in a global variable (currentUser)

User Profile View

Shows logged-in user's details only

Data fetched using:

    Filter(AuroraInstitute_Users, Email = currentUser.Email)

Course Management

View list of available courses

Edit course details (title, description, start date, etc.)

Submit updates using: (-> use Patch in near future)
    SubmitForm(Form2)

Enrollment Management

View and update enrollment records

Form submission via:
    SubmitForm(Form3)

Role-based UI Access

Controls visibility/editing based on user role

Example:
    If(currentUser.Role = "Kouluttaja", EditForm(Form2))

üß© App Structure
Screens

KouluttajaLogin: Trainer login screen

AuroralInstitute_User: User profile screen

AuroralInstitute_Courses: Course overview and editor

AuroralInstitute_Enroll: Enrollment management

LoginSuccess, LoginFailed, SaveSuccess, LogoutSuccess: Navigation feedback

Forms

Form2: Course detail editor

Form3: Enrollment editor

Components

Standard Power Apps containers and galleries used for layout
‚úÖ Dependencies
Microsoft Dataverse tables:

AuroraInstitute_Users

AuroraInstitute_Courses

AuroraInstitute_EnrolledCourse

üîê Access Control
Uses a custom Role field (e.g., "Kouluttaja", "Oppilas")

Conditional logic restricts functionality based on user roles

üìå Tips for Maintenance
Use App.OnStart or StartScreen to control initial navigation

Reuse global variable currentUser for role checks

Always configure OnSuccess and OnFailure for forms to handle notifications

‚úÖ Course Creation and Data Management
Implemented course creation using the Patch() function instead of SubmitForm(), enabling better control over field values.

Investigated and resolved an error related to the statecode field, which is auto-generated by Dataverse and should not be included in Patch operations.

Identified and resolved issues caused by missing required fields during course creation.

Ensured that CreatedBy field is automatically populated with the current user's email address using a disabled or View Text control.

Added Default = currentUser.Email to properly bind the logged-in user's email to the field.

Verified that newly created courses are displayed correctly by filtering:
Filter(AuroraInstitute_Courses, CreatedBy = currentUser.Email)

‚úÖ Course Update Functionality
Converted the course update process to use Patch() instead of SubmitForm() for better validation and error handling.

Implemented form field validation with IsBlank() checks before updating records.

Displayed error messages using Notify() when mandatory fields were left blank.

Ensured that Navigate(SaveSuccess) executes only after successful validation and update.

‚úÖ Read-Only Fields and View Mode
Converted the CreatedBy field to View Text to prevent user edits during course updates.

Adjusted field referencing (e.g., using .Value instead of .Text when necessary in view/edit forms).

‚úÖ User Role Overview
Extracted email addresses and roles from the AuroraInstitute_User table

‚úÖ Sprint Retrospective Preparation
Wrote summary points for the Sprint 2 Retrospective in Finnish, including achieved tasks and plans for the next sprint.

Clarified that both instructors and students can approve and view notifications through their respective screens.

